<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMR Patient Notes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>

<body class="text-gray-800">

  <div class="relative min-h-screen">
    <!-- Overlay for mobile menu -->
    <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden"></div>

    <!-- Left Panel / Sidebar -->
    <aside id="sidebar"
      class="w-72 h-full flex flex-col bg-white border-r border-gray-200 fixed top-0 left-0 z-30 transform -translate-x-full">
      <header class="p-4 border-b border-gray-200 flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="#1E40AF"
              d="M8 6c0-2.21 1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4s-4-1.79-4-4m9 16h1c1.1 0 2-.9 2-2v-4.78c0-1.12-.61-2.15-1.61-2.66c-.43-.22-.89-.43-1.39-.62zm-4.66-5L15 11.33c-.93-.21-1.93-.33-3-.33c-2.53 0-4.71.7-6.39 1.56A2.97 2.97 0 0 0 4 15.22V22h2.34c-.22-.45-.34-.96-.34-1.5C6 18.57 7.57 17 9.5 17zM10 22l1.41-3H9.5c-.83 0-1.5.67-1.5 1.5S8.67 22 9.5 22z" />
          </svg>
          <h1 class="text-xl font-bold text-gray-700">Patient Encounters</h1>
        </div>
        <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQntM4gqqcetDRtlNI_GPGopx-HfalfC0efux_-KhllcUUStVeeoUYF7SutJdeC-zWbeVn7Vpxkka4R/pub?output=xlsx" title="Download Data as Excel">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="#1E40AF"
              d="M21.17 3.25q.33 0 .59.25q.24.24.24.58v15.84q0 .34-.24.58q-.26.25-.59.25H7.83q-.33 0-.59-.25q-.24-.24-.24-.58V17H2.83q-.33 0-.59-.24Q2 16.5 2 16.17V7.83q0-.33.24-.59Q2.5 7 2.83 7H7V4.08q0-.34.24-.58q.26-.25.59-.25M7 13.06l1.18 2.22h1.79L8 12.06l1.93-3.17H8.22L7.13 10.9l-.04.06l-.03.07q-.26-.53-.56-1.07q-.25-.53-.53-1.07H4.16l1.89 3.19L4 15.28h1.78m8.1 4.22V17H8.25v2.5m5.63-3.75v-3.12H12v3.12m1.88-4.37V8.25H12v3.13M13.88 7V4.5H8.25V7m12.5 12.5V17h-5.62v2.5m5.62-3.75v-3.12h-5.62v3.12m5.62-4.37V8.25h-5.62v3.13M20.75 7V4.5h-5.62V7Z" />
          </svg>
        </a>
      </header>

      <!-- Filters Section -->
      <div id="filters" class="p-3 border-b border-gray-200 space-y-3">
        <input type="text" id="searchInput" placeholder="Search patient or complaint..."
          class="w-full p-2 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
        <select id="gameFilter"
          class="w-full p-2 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
          <option value="">All Games</option>
        </select>
        <select id="icdFilter"
          class="w-full p-2 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
          <option value="">All ICD-10 Codes</option>
        </select>
      </div>

      <div id="noteList" class="flex-grow overflow-y-auto">
        <div id="loader" class="flex justify-center items-center h-full">
          <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
        </div>
      </div>
    </aside>

    <!-- Right Panel: Note Details -->
    <main id="main-content" class="flex-1 flex flex-col h-screen">
      <header class="bg-white p-4 border-b border-gray-200 flex justify-between items-center">
        <div class="flex items-center">
          <button id="menu-toggle" class="mr-4 text-gray-600 hover:text-blue-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path fill="#1E40AF" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z" />
            </svg>
          </button>
          <h2 id="patientName" class="text-xl md:text-2xl font-bold text-gray-800 truncate cursor-pointer"
            title="Filter by this patient">Select a Patient Note</h2>
        </div>
        <div id="patientInfo" class="text-right text-sm text-gray-500 hidden sm:block">
          <!-- Patient details here -->
        </div>
      </header>
      <div id="noteContent" class="flex-grow overflow-y-auto p-6 bg-gray-50">
        <div id="placeholder" class="h-full flex flex-col justify-center items-center text-gray-400 text-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24">
	        <path fill="#9CA3AF" d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z" />
          </svg>
          <p class="text-xl">Select a patient note to view details.</p>
          <p class="text-md mt-2 md:hidden">Click</p>
          <svg class="text-md mt-2 md:hidden" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
	          <path fill="#1E40AF" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z" />
          </svg>
          <p class="text-md mt-2 md:hidden">to open the patient list.</p>
        </div>
        <div id="details-container" class="hidden">
          <!-- SOAP notes will be dynamically inserted here -->
          <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
            <div class="mb-6">
              <h3 class="text-lg font-semibold text-blue-700">Chief Complaint</h3>
              <p id="detail-complaint" class="text-xl text-gray-900"></p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <div class="soap-section">
                <h4>Subjective</h4>
                <p id="detail-subjective"></p>
              </div>
              <div class="soap-section">
                <h4>Objective</h4>
                <p id="detail-objective"></p>
              </div>
              <div class="soap-section col-span-1 lg:col-span-2">
                <h4>Assessment / Plan</h4>
                <p id="detail-assessment"></p>
              </div>
              <div class="soap-section col-span-1 lg:col-span-2">
                <h4>Recovery / Follow-Up</h4>
                <p id="detail-recovery"></p>
              </div>
            </div>
            <div class="mt-6 pt-4 border-t border-gray-200">
              <h4 class="font-bold text-gray-600 mb-2">Additional Information</h4>
              <div id="additional-info-list" class="text-sm text-gray-600 space-y-1">
                <!-- Info will be populated by JS -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="script.js" defer></script>
</body>

</html>
